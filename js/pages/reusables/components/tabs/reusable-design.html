<div data-bind="css: classes()">
	<p data-bind="css: classes('descr'), html: ko.i18n('reusable.manager.design.description', '<b>Reusable</b> is a ...')"></p>

	<div class="divtext" data-bind="contentEditable: design().description, contenteditableSwitch: isEditPermitted(), placeholder: ko.i18n('reusables.manager.design.descriptionPlaceholder', 'Enter description here')"></div>

	<h2 data-bind="css: classes('section-title'), text: ko.i18n('reusable.manager.design.parametersList.title', 'Parameters')"></h2>
	<button data-bind="css: classes({extra: 'btn btn-sm btn-primary'}), click: addParameter, text: ko.i18n('reusable.manager.design.parametersList.newParameter', 'New parameter')"></button>
	<div data-bind="css: classes('no-parameters'), visible: design().parameters().length === 0">
		<span data-bind="text: ko.i18n('reusable.manager.design.parametersList.noParameters', 'No parameters defined')"></span>
	</div>

	<h2 data-bind="css: classes('section-title'), text: ko.i18n('reusable.manager.design.expression.title', 'Design')"></h2>
	<div data-bind="eventListener: [{ event: 'click', selector: '.conceptset_import', callback: handleConceptSetImport}, { event: 'click', selector: '.conceptset_edit', callback: handleEditConceptSet}]">
		<criteria-group params="{ expression: { ConceptSets: design().conceptSets }, group: criteriaGroup }"></criteria-group>
	</div>

	<div data-bind="modal: showConceptSetBrowser" class="modal fade" tabindex="-1" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header" data-bind="text: ko.i18n('components.conceptSetBuilder.selectConceptSet', 'Select Concept Set...')"></div>
				<div class="paddedWrapper">
					<concept-set-browser params="criteriaContext: criteriaContext, cohortConceptSets: design().conceptSets, onActionComplete: onConceptSetSelectAction"></concept-set-browser>
				</div>
			</div>
		</div>
	</div>
</div>
