<!-- ko if:$component.showSelectionArea -->
<div class="wrapperTitle">
	<span data-bind="if:!$component.loadingReport()"><i class="fa fa-area-chart"></i></span>
	<span data-bind="if:$component.loadingReport()"><i class="fa fa-circle-o-notch fa-spin"></i></span> 
	<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_1', 'Cohort Reporting')"></span>
</div>

<div class="modal fade" id="cohortDefinitionChooser" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_2', 'Choose Cohort Definition')"></span>
			</div>
			<div class="modal-body">
				<cohort-definition-browser params="{onSelect: data => $component.reportCohortDefinitionId(data.id)}"></cohort-definition-browser>
			</div>
		</div>
	</div>
</div>

<div class="reportControls">
	<div class="row">
		<div class="col-xs-12">
			<button class="form-control btn btn-sm btn-primary" data-bind="click: $component.showBrowser, text:$component.cohortCaption"></button>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<select class="form-control" data-bind="css : { invalid: $component.reportReportName()==undefined }, options:$root.reports(), optionsCaption:'Select a Report', value:$component.reportReportName"></select>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<select class="form-control" data-bind="css : { invalid: $component.reportSourceKey()==undefined }, options:$component.sharedState.sources().filter($root.hasResults), optionsValue:'sourceKey', optionsText:'sourceName', value:$component.reportSourceKey, optionsCaption: ko.i18n('dataSources.selectASource', 'Select a Source')"></select>
		</div>
	</div>
	<div class="row">
		<div class="col-xs-10"></div>
		<div class="col-xs-2">
			<button class="pull-right form-control btn btn-sm btn-primary" data-bind="click: $component.runReport, enable: $component.reportValid(), text: $component.loadingReport() ? 'Loading...' : 'View Report'"></button>
		</div>
	</div>
	<div class="clear"></div>
</div>
<!-- /ko -->

<div id="reportHeel" data-bind="if: $component.currentReport() == 'Heracles Heel' && !$component.loadingReport()">
	<div class=" report">
		<faceted-datatable params="{columns: $component.heelDataColumns, reference:$component.reference, options:$component.heelOptions }"></faceted-datatable>
	</div>
</div>

<div id="reportDataCompleteness" data-bind="if: $component.currentReport() == 'Data Completeness' && !$component.loadingReport()">
	<div class="pad-10 report">
		<div class="reportHeading"><i class="fa fa-area-chart"></i> 
			<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_3', 'Data Completeness')"></span>
			(<span data-bind="text:$component.reportSourceKey()"></span>)</div>
		<faceted-datatable params="{columns: $component.dataCompletColumns, reference:$component.dataCompleteReference, options:$component.dataCompleteOptions, rowClick:$component.dataCompleteRowClick }"></faceted-datatable>
	</div>
	<div class="pad-10 report">
		<span data-bind="text:$component.currentAgeGroup()"></span>
	</div>
	<div class="pad-10 report" id="dataCompletenessSvgDiv">
	</div>
</div>

<div id="reportEntropy" data-bind="if: $component.currentReport() == 'Entropy' && !$component.loadingReport()">
	<div class="tab-pane" id="care_site_div">
		<table id="care_site_table" class="stripe compact hover dataTable no-footer">
			<thead>
				<tr>
					<th>
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_4', 'Care Site')"></span>
					</th>
				</tr>
			</thead>
		</table>
	</div>

	<div class=" report">
		<div class="reportSectionHeading">
			<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_5', 'Entropy by Date')"></span>
		</div>
		<div class="evidenceVisualization" id="entropyByDate" />
	</div>
</div>

<div id="reportPerson" data-bind="if: $component.currentReport() == 'Person' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_6', 'Year of Birth')"></span>
				<i data-bind="click:function(){ setHelpContent('year-of-birth') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="hist"></div>
			</div>
			<div class="panel-footer">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_7', 'The number of people in this cohort shown with respect to their year of birth.')"></span>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_8', 'Demographics')"></span>
				<i data-bind="click:function(){ setHelpContent('demographics') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-xs-4">
						<div class="evidenceVisualization" id="gender"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_9', 'Gender')"></span>
						</div>
					</div>
					<div class="col-xs-4">
						<div class="evidenceVisualization" id="race"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_10', 'Race')"></span>
						</div>
					</div>
					<div class="col-xs-4">
						<div class="evidenceVisualization" id="ethnicity"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_11', 'Ethnicity')"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- ko if: $component.currentReport() == 'Measurement' && !$component.loadingReport() -->
<div class="panel panel-danger">
	<div class="panel-heading">
		<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_12', 'Report Not implemented')"></span>
	</div>
	<div class="panel-body">
		<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_13', 'This report has not been implemented.')"></span>
	</div>
</div>
<!-- /ko -->

<div id="reportCohortSpecific" data-bind="if: $component.currentReport() == 'Cohort Specific' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_14', 'Prevalence by Month')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-prevalence-per-month') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="prevalenceByMonth"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_15', 'Cohort Start')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-cohort-start') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="cohort_trellisLinePlot"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_16', 'Persons in Cohort from Start to End')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-start-to-end') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="personinCohortFromStartToEnd"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_17', 'Number of Persons by Duration from Cohort Start to Cohort End')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-duration-start-to-end') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="personsByDurationFromStartToEnd"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_18', 'Distribution of Age at Cohort Start by Cohort Start Year')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-duration-start-to-end') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="distributionAgeCohortStartByCohortStartYear"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_19', 'Age Distributions')"></span>
				<i data-bind="click:function(){ setHelpContent('cohort-specific-age-distributions') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-sm-6">
						<div class="evidenceVisualization" id="distributionAgeCohortStartByGender"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_20', 'Distribution of Age at Cohort Start by Gender')"></span>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="evidenceVisualization" id="ageAtIndex"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_21', 'Age at Index')"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="reportTornado" data-bind="visible: $component.currentReport() == 'Tornado' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_22', 'Tornado')"></span>
				<i data-bind="click:function(){ setHelpContent('tornado') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body pad-5">
				<div id="tornadoPlot" class="text-center"><svg width="1000" height="300" preserveAspectRatio></svg></div>
			</div>
		</div>
	</div>
	<div class="panel panel-primary">
		<div class="panel-heading">
			<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_23', 'Sample Profiles')"></span>
			<i data-bind="click:function(){ setHelpContent('tornado') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
		</div>
		<div class="panel-body" style="background-color:#222;">
			<div id="tornadoProfiles" class="text-center">
				<div style="color:#eee;" data-bind="if:$component.tornadoProfiles().length == 0">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_24', 'Select a Bar from the Tornado Plot to view Sample Profiles for that Strata.')"></span>
				</div>
				<div class="col-sm-1"></div>
				<!-- ko foreach:$component.tornadoProfiles -->
				<div class="col-sm-2">
					<a target="_new" data-bind="attr: {href: $component.buildProfileLink($data)}">
						<i data-bind="css: $component.genderIcon($data)" class="fa"></i>
						<div data-bind="html:personId"></div>
					</a>
				</div>
				<!-- /ko -->
			</div>
		</div>
	</div>
</div>

<div id="reportConditionsByIndex" data-bind="if: $component.currentReport() == 'Conditions by Index' && !$component.loadingReport()">
	<div class="pad-5 report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_25', 'Condition Prevalence')"></span>
				<i data-bind="click:function(){ setHelpContent('conditions-by-index-condition-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#condition-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
						</a>
					</li>
					<li id="treemap-tab"><a href="#condition-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="condition-treemap-panel">
						<div id="condition_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span>
							</div>
					</div>
					<div role="tabpanel" class="tab-pane active" id="condition-table-panel" data-bind="eventListener: { event: 'click', selector: 'tr', callback: (d,c,e) => handleGenericRowClick(e, 'condition', 'condition_table')}">
						<table id="condition_table" class="stripe compact hover dataTable no-footer" type="condition">
							<thead>
								<tr>
									<th>
										<span data-bind="text: ko.i18n('columns.conceptId', 'Concept Id')"></span>
									</th>
									<th>SOC</th>
									<th>HLGT</th>
									<th>HLT</th>
									<th>PT</th>
									<th>SNOMED</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Relative Risk per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>
		<!-- ko if:$component.loadingReportDrilldown -->
		<loading params="status:'Loading Drilldown Report'">
		</loading>
		<!-- /ko -->
		<!-- ko if: $component.activeReportDrilldown -->
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_29', 'Drilldown Report')"></span>
			</div>
			<div class="panel-body">
				<div>
					<div id="conditionDrilldownScatterplotHeading" class="reportSectionHeading">
					</div>
					<div class="evidenceVisualization" id="conditionDrilldownScatterplot"></div>
				</div>
			</div>
		</div>
		<!-- /ko -->
	</div>
</div>

<div id="reportDrugErasByIndex" data-bind="if: $component.currentReport() == 'Drugs by Index' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_30', 'Drugs by Index Date ')"></span>
				<i data-bind="click:function(){ setHelpContent('drugs-by-index') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#drugs-by-index-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
					<li id="treemap-tab"><a href="#drugs-by-index-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="drugs-by-index-treemap-panel">
						<div id="drugindex_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span>
						</div>
					</div>
					<div role="tabpanel" class="tab-pane active" id="drugs-by-index-table-panel" data-bind="eventListener: { event: 'click', selector: 'tr', callback: (d,c,e) => handleGenericRowClick(e, 'drug', 'drugs-by-index-table')}">
						<table id="drugs-by-index-table" class="stripe compact hover dataTable no-footer" type="drug">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>ATC 1</th>
									<th>ATC 3</th>
									<th>ATC 4</th>
									<th>Ingredient</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Relative Risk per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>

			</div>
		</div>

		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i>
			<span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div id="drugDrilldownScatterplotHeading" class="reportSectionHeading">
			</div>
			<div class="evidenceVisualization" id="drugDrilldownScatterplot"></div>
		</div>
	</div>
</div>

<div id="reportConditionPeriods" data-bind="if: $component.currentReport() == 'Observation Periods' && !$component.loadingReport()">
	<div class="report">

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_31', 'Age at First Observation')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-age-at-first-observation') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="ageatfirstobservation"></div>
			</div>
			<div class="panel-footer">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_32', 'The distribution of age at first observation in the cohort.')"></span>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_33', 'Age by Gender')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-age-by-gender') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="agebygender"></div>
			</div>
			<div class="panel-footer">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_34', 'The distribution of age at first observation in the cohort stratified by gender.')"></span>
				
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_35', 'Observation Length')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-length') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="observationlength"></div>
			</div>
			<div class="panel-footer">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_36', 'Distribution of total observation time in cohort.')"></span>
				
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_37', 'Observation Length by Gender')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-length-by-gender') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="opbygender"></div>
			</div>
			<div class="panel-footer">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_38', 'Distribution of total observation time in cohort by gender.')"></span>
				
			</div>
		</div>

		<!-- charting library error pending -->
		<!--
		<div class="reportSectionHeading">Cumulative Observation</div>
		<div class="evidenceDescription">Observation time in cohort by % of people in the cohort.</div>
		<div class="evidenceVisualization" id="cumulativeobservation"></div>
		-->

		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_39', 'Observation Length by Age Decile')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-length-by-age-decile') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="opbyage"></div>
			</div>
		</div>

		<!-- tooltip bug
		<div class="panel panel-primary">
			<div class="panel-heading">
				Persons with Continuous Observation by Year<i data-bind="click:setHelpContent('observation-periods-continuous')" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="opbyage"></div>
			</div>
		</div>
		-->

		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_40', 'Observation Periods per Person')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-per-person') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="opperperson"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_41', 'Persons With Continuous Observation By Month')"></span>
				<i data-bind="click:function(){ setHelpContent('observation-periods-continuous-by-month') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="oppeoplebymonthsingle"></div>
			</div>
		</div>

	</div>
</div>

<div id="reportConditionEras" data-bind="if: $component.currentReport() == 'Condition Eras' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_42', 'Condition Era Prevalence')"></span>
				<i data-bind="click: function(){ setHelpContent('condition-era-prevalence') }"  class="fa fa-question-circle pull-right"></i>

			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#conditionera-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
					<li><a href="#conditionera-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="conditionera-treemap-panel">
						<div id="conditionera_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span>
						</div>
					</div>
					<div role="tabpanel" class="tab-pane active" id="conditionera-table-panel" data-bind="eventListener: { event: 'click', selector: '.conditionera_table_selector', callback: handleConditionEraTableClick}">
						<table id="conditionera_table" class="stripe compact hover dataTable no-footer">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>SOC</th>
									<th>HLGT</th>
									<th>HLT</th>
									<th>PT</th>
									<th>SNOMED</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Length of Era</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i>
			<span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_42', 'Condition Era Prevalence')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditionera_trellisLinePlot"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_43', 'Condition Era Prevalence by Month')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditioneraPrevalenceByMonth"></div>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_44', 'Age at First Diagnosis')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditioneras_age_at_first_diagnosis"></div>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_45', 'Length of Condition Era')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditioneras_length_of_era"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="reportProceduresByIndex" data-bind="if: $component.currentReport() == 'Procedures by Index' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_46', 'Procedure Prevalence')"></span>
				<i data-bind="click:function(){ setHelpContent('procedure-by-index-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li id="treemap-tab"><a href="#procedure-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
					<li class="active"><a href="#procedure-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="procedure-treemap-panel">
						<div id="procedureindex_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span>
						</div>
					</div>	
					</div>
					<div role="tabpanel" class="tab-pane active" id="procedure-table-panel" data-bind="eventListener: { event: 'click', selector: 'tr', callback: (d,c,e) => handleGenericRowClick(e, 'procedure', 'procedure_table')}">
						<table id="procedure_table" class="stripe compact hover dataTable no-footer" type="procedure">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>Level 4</th>
									<th>Level 3</th>
									<th>Level 2</th>
									<th>Procedure</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Relative Risk per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i> <span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div id="procedureDrilldownScatterplotHeading" class="reportSectionHeading">
			</div>
			<div class="evidenceVisualization" id="procedureDrilldownScatterplot"></div>
		</div>
	</div>
</div>

<script type="text/html" id="help-modal">
	<div data-bind="html:helpContent"></div>
</script>
<atlas-modal params="{
		showModal: helpModalOpened,
		title: helpTitle,
		template: 'help-modal',
		data: {
			helpContent: helpContent,
		}
	}"></atlas-modal>

<div id="reportCondition" data-bind="visible: $component.currentReport() == 'Condition' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_47', 'Condition Prevalence')"></span>
				<i data-bind="click:function(){ setHelpContent('condition-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#condition-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a></li>
					<li id="treemap-tab"><a href="#condition-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a></li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="condition-treemap-panel">
						<div id="condition_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span>
						</div>
					</div>
					<div role="tabpanel" class="tab-pane active" id="condition-table-panel" data-bind="eventListener: { event: 'click', selector: '.condition_table_selector', callback: handleConditionTableClick}">
						<table id="condition_table" class="stripe compact hover dataTable no-footer">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>SOC</th>
									<th>HLGT</th>
									<th>HLT</th>
									<th>PT</th>
									<th>SNOMED</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Records per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i>
			<div class="treemap_legend">
				<span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
			</div>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div class="heading" id="conditionDrilldown"></div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_47', 'Condition Prevalence')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="condition_trellisLinePlot"></div>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_48', 'Condition Prevalence by Month')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditionPrevalenceByMonth"></div>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_49', 'Condition Type')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="conditionsByType"></div>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_44', 'Age at First Diagnosis')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="ageAtFirstDiagnosis"></div>
				</div>
		</div>
		</div>
	</div>
</div>

<div id="reportDrugEras" data-bind="if: $component.currentReport() == 'Drug Eras' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_50', 'Drug Era Prevalence')"></span>
				<i data-bind="click:function(){ setHelpContent('drug-era-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#drugera-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
					<li><a href="#drugera-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div role="tabpanel" class="tab-pane" id="drugera-treemap-panel">
						<div id="drugera_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span></div>
					</div>	
					</div>
					<div role="tabpanel" class="tab-pane active" id="drugera-table-panel" data-bind="eventListener: { event: 'click', selector: '.drugera_table_selector', callback: handleDrugEraTableClick}">
						<table id="drugera_table" class="stripe compact hover dataTable no-footer">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>ATC 1</th>
									<th>ATC 3</th>
									<th>ATC 4</th>
									<th>Ingredient</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Length of Era</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i> <span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>

		<div data-bind="if:$component.activeReportDrilldown">
			<div class="heading" id="drugeraDrilldown"></div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_50', 'Drug Era Prevalence')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugera_trellisLinePlot"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_51', 'Drug Era Prevalence by Month')"></span>
				
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugeraPrevalenceByMonth"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_52', 'Age at First Exposure by Gender')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugeras_age_at_first_exposure"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_53', 'Length of Era Distribution')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugeras_length_of_era"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="reportDrugExposure" data-bind="if: $component.currentReport() == 'Drug Exposure' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_54', 'Drug Exposure')"></span>
				<i data-bind="click:function(){ setHelpContent('drug-exposure') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#drug_table_panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
					<li id="treemap-tab"><a href="#drug_treemap_panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div class="tab-pane" id="drug_treemap_panel">
						<div id="drug_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span></div>
					</div>	
					</div>
					<div class="tab-pane active" id="drug_table_panel" data-bind="eventListener: { event: 'click', selector: '.drug_table_selector', callback: handleDrugTableClick}">
						<table id="drug_table" class="stripe compact hover dataTable no-footer">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>ATC 1</th>
									<th>ATC 3</th>
									<th>ATC 4</th>
									<th>Ingredient</th>
									<th>RxNorm</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Records per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i> <span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div class="heading" id="drugExposureDrilldown"></div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_55', 'Drug Exposure Prevalence')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drug_trellisLinePlot"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_56', 'Drug Exposure Prevalence by Month')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugPrevalenceByMonth"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_57', 'Age at First Exposure')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="ageAtFirstExposure"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_58', 'Days Supply Distribution')"></span>
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="daysSupplyDistribution"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_59', 'Quantity Distribution')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="quantityDistribution"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_60', 'Refills Distribution')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="refillsDistribution"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_61', 'Drugs by Type')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="drugsByType"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="reportProcedure" data-bind="if: $component.currentReport() == 'Procedure' && !$component.loadingReport()">
	<div class=" report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_62', 'Procedure Prevalence')"></span>
				<i data-bind="click:function(){ setHelpContent('procedure-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="active"><a href="#procedure-table-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_26', 'Table')"></span>
					</a>
					</li>
					<li><a href="#procedure-treemap-panel" role="tab" data-toggle="tab">
						<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_27', 'Treemap')"></span>
					</a>
					</li>
				</ul>
				<div id='content' class="tab-content">
					<div class="tab-pane" role="tabpanel" id="procedure-treemap-panel">
						<div id="procedure_treemap_container">
							<div class="treemap_zoomtarget"></div>
						</div>
						<div class="treemap_legend">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_28', 'Box Size: Prevalence, Color: Log of Relative Risk (Red to Green = Negative to Positive), Use Ctrl-Click to Zoom, Alt-Click to Reset Zoom')"></span></div>
					</div>	
					</div>
					<div class="tab-pane active" role="tabpanel" id="procedure-table-panel" data-bind="eventListener: { event: 'click', selector: '.procedure_table_selector', callback: handleProcedureTableClick}">
						<table id="procedure_table" class="stripe compact hover dataTable no-footer">
							<thead>
								<tr>
									<th>Concept Id</th>
									<th>Level 3</th>
									<th>Level 2</th>
									<th>Level 1</th>
									<th>Procedure</th>
									<th>Person Count</th>
									<th>Prevalence</th>
									<th>Records per Person</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="loader" data-bind="if:$component.loadingReportDrilldown">
			<i class="fa fa-circle-o-notch fa-spin"></i> <span data-bind="text: ko.i18n('common.loading', 'Loading')"></span>
		</div>
		<div data-bind="if:$component.activeReportDrilldown">
			<div class="heading" id="procedureDrilldown"></div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_62', 'Procedure Prevalence')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="procedure_trellisLinePlot"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_63', 'Procedure Prevalence by Month')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="procedurePrevalenceByMonth"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_64', 'Procedures by Type')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="proceduresByType"></div>
				</div>
			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">
					<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_65', 'Age at First Occurrence')"></span>
					
				</div>
				<div class="panel-body">
					<div class="evidenceVisualization" id="ageAtFirstOccurrence"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="reportDeath" data-bind="if: $component.currentReport() == 'Death' && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_66', 'Death Prevalence by Age, Gender, Year')"></span>
				<i data-bind="click:function(){ setHelpContent('death-prevalence') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="death_trellisLinePlot"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_67', 'Death Prevalence by Month')"></span>
				<i data-bind="click:function(){ setHelpContent('death-prevalence-by-month') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="evidenceVisualization" id="deathPrevalenceByMonth"></div>
			</div>
		</div>

		<div class="panel panel-primary">
			<div class="panel-heading">
				
				<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_68', 'Death Details')"></span>
				<i data-bind="click:function(){ setHelpContent('death-details') }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-sm-6">
						<div class="evidenceVisualization" id="ageAtDeath"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_69', 'Age at Death')"></span>
							</div>
					</div>
					<div class="col-sm-6">
						<div class="evidenceVisualization" id="deathByType"></div>
						<div class="evidenceDescription">
							<span data-bind="text: ko.i18n('cohortDefinitions.costUtilization.reportManager.reportManagerText_70', 'Death by Type')"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilPersonAndExposureBaseline.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilPersonAndExposureBaseline.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilPersonAndExposureBaseline) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-persons-exposure params="{
					window: costUtilConst.windowType.baseline,
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
				}"/>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilPersonAndExposureCohort.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilPersonAndExposureCohort.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilPersonAndExposureCohort) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-persons-exposure params="{
					window: costUtilConst.windowType.atrisk,
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
				}"/>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilVisitRecordsBaseline.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilVisitRecordsBaseline.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilVisitRecordsBaseline) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.baseline,
					visitStat: costUtilConst.visitStat.occurrence,
				}"/>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilVisitDatesBaseline.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilVisitDatesBaseline.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilVisitDatesBaseline) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.baseline,
					visitStat: costUtilConst.visitStat.visitdate,
				}"/>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilCareSiteDatesBaseline.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilCareSiteDatesBaseline.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilCareSiteDatesBaseline) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.baseline,
					visitStat: costUtilConst.visitStat.caresitedate,
				}"/>
			</div>
		</div>
	</div>
</div>

<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilVisitRecordsCohort.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilVisitRecordsCohort.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilVisitRecordsCohort) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.atrisk,
					visitStat: costUtilConst.visitStat.occurrence,
				}"/>
			</div>
		</div>
	</div>
</div>
<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilVisitDatesCohort.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilVisitDatesCohort.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilVisitDatesCohort) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.atrisk,
					visitStat: costUtilConst.visitStat.visitdate,
				}"/>
			</div>
		</div>
	</div>
</div>
<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilCareSiteDatesCohort.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilCareSiteDatesCohort.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilCareSiteDatesCohort) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-visit-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.atrisk,
					visitStat: costUtilConst.visitStat.caresitedate,
				}"/>
			</div>
		</div>
	</div>
</div>
<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilDrugBaseline.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilDrugBaseline.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilDrugBaseline) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-drug-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.baseline,
				}"/>
			</div>
		</div>
	</div>
</div>
<div data-bind="if: $component.currentReport() == ko.unwrap(visualizationPacks.healthcareUtilDrugCohort.name) && !$component.loadingReport()">
	<div class="report">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<span data-bind="text: visualizationPacks.healthcareUtilDrugCohort.name" /><i data-bind="click:function(){ setHelpContent(visualizationPacks.healthcareUtilDrugCohort) }" data-toggle="modal" data-target="#helpModal" class="fa fa-question-circle pull-right"></i>
			</div>
			<div class="panel-body">
				<cost-utilization-drug-util params="{
					source: $component.reportSourceKey(),
					cohortId: $component.reportCohortDefinitionId(),
					window: costUtilConst.windowType.atrisk,
				}"/>
			</div>
		</div>
	</div>
</div>