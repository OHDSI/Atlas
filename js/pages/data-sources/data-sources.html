<div data-bind="css: classes()">  
  <div data-bind="css: classes('header')">
    <heading-title params="name: 'Data Source Reports', icon: 'area-chart'"></heading-title>
  </div>


  <div data-bind="ifnot: canViewCdmResults">
    <div class="padded">
      <access-denied params="isAuthenticated: $component.isAuthenticated"></access-denied>
    </div>
  </div>

  <div data-bind="if: canViewCdmResults">
    <!-- ko if: showSelectionArea -->
    <div class="reportControls pad-5">
      <div class="row">
        <div class="col-xs-12">
          <select class="form-control" data-bind="css : { invalid:  currentSource()==undefined }, options: sources, optionsText:'sourceName', value: currentSource, optionsCaption:'Select a Source'"></select>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <select class="form-control" data-bind="css : { invalid:  currentReport()==undefined }, options: reports, optionsCaption:'Select a Report', optionsText:'name', value: currentReport"></select>
        </div>
      </div>
      <div class="clear"></div>
    </div>
    <!-- /ko -->

    <loading params="status: 'loading report'" data-bind="visible: loadingReport() && ! hasError()">
    </loading>

    <div class="paddedWrapper text-center error" data-bind="visible: hasError()">
      <div>
        <i class="fa fa-exclamation-circle"></i>
      </div>
      <div>error loading report</div>
    </div>

    <div id="report" class="flexed" data-bind="if: currentReport() && !hasError()">
      <div class="row pad-10 report">
        <!-- ko component: {
          name: $component.currentReport().component,
          params: { context: $component, report: currentReport() }
        } -->
        <!-- /ko -->
      </div>
    </div>
  </div>
</div>