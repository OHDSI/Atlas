<!-- ko ifnot: context.loadingReportDrilldown() -->
<!-- ko if: isError -->
<empty-state params="message: ko.i18n('dataSources.drilldown.noData', 'No data')"></empty-state>
<!-- /ko -->

<div data-bind="visible: !isError()">
	<!-- ko if: currentConcept() -->
	<heading-title params="name: ` ${currentConcept().name} ${ko.i18n('dataSources.drilldown.drilldownReport', 'Drilldown Report')()}`"></heading-title>
	<!-- /ko -->

	<div class="col-xs-12">
		<div class="panel panel-primary">
			<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.prevalence', 'Prevalence')"></div>
			<div class="panel-body">
				<trellisline class="evidenceVisualization" params="data: prevalenceByGenderAgeYearData, format: chartFormats.prevalenceByGenderAgeYear"></trellisline>
			</div>
		</div>
	</div>

	<div class="col-xs-12">
		<div class="panel panel-primary">
			<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.prevalenceByMonth', 'Prevalence by Month')">

			</div>
			<div class="panel-body">
				<atlasline class="evidenceVisualization" params="data: prevalenceByMonthData, format: chartFormats.prevalenceByMonth"></atlasline>
			</div>
		</div>
	</div>

	<div class="row">
		<!-- ko if: byType -->
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.type', 'Type')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: prevalenceByTypeData, format: chartFormats.prevalenceByType"></donut>
				</div>
			</div>
		</div>
		<!-- /ko -->

		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.ageAtFirstOccurrence', 'Age at First Occurrence')"></div>
				<div class="panel-body">
					<boxplot class="evidenceVisualization" params="data: ageData, format: chartFormats.age"></boxplot>
				</div>
			</div>
		</div>

		<!-- ko if: byLengthOfEra -->
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.lengthOfEraDistribution', 'Length of Era Distribution')"></div>
				<div class="panel-body">
					<boxplot class="evidenceVisualization" params="data: lengthOfEra, format: chartFormats.lengthOfEra"></boxplot>
				</div>
			</div>
		</div>
		<!-- /ko -->

	</div>


	<div class="row">
		<!-- ko if: byValueAsConcept -->
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.valueAsConcept', 'Value As Concept')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: prevalenceByValueAsConceptData, format: chartFormats.prevalenceByType"></donut>
				</div>
			</div>
		</div>
		<!-- /ko -->

		<!-- ko if: byQualifier -->
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.qualifierConcept', 'Qualifier Concept')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: prevalenceByQualifierData, format: chartFormats.prevalenceByType"></donut>
				</div>
			</div>
		</div>
		<!-- /ko -->

		<!-- ko if: byOperator -->
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.operatorConcept', 'Operator Concept')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: prevalenceByOperatorData, format: chartFormats.prevalenceByType"></donut>
				</div>
			</div>
		</div>
		<!-- /ko -->

	</div>

	<!-- ko if: byUnit -->
	<div class="row">
		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.measurementRecordsByUnit', 'Measurement Records by Unit')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: recordsByUnitData, format: chartFormats.recordsByUnit"></donut>
				</div>
			</div>
		</div>

		<div class="col-xs-6">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.measurementValueDistribution', 'Measurement Value Distribution')"></div>
				<div class="panel-body">
					<boxplot class="evidenceVisualization" params="data: measurementValueDistributionData, format: chartFormats.measurementValueDistribution"></boxplot>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-xs-4">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.lowerLimitDistribution', 'Lower limit Distribution')"></div>
				<div class="panel-body">
					<boxplot class="evidenceVisualization" params="data: lowerLimitDistributionData, format: chartFormats.lowerLimitDistribution"></boxplot>
				</div>
			</div>
		</div>

		<div class="col-xs-4">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.upperLimitDistribution', 'Upper Limit Distribution')"></div>
				<div class="panel-body">
					<boxplot class="evidenceVisualization" params="data: upperLimitDistributionData, format: chartFormats.upperLimitDistribution"></boxplot>
				</div>
			</div>
		</div>

		<div class="col-xs-4">
			<div class="panel panel-primary">
				<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.valuesRelativeToNormalRange', 'Values Relative to Normal Range')"></div>
				<div class="panel-body">
					<donut class="evidenceVisualization" params="data: valuesRelativeToNormData, format: chartFormats.valuesRelativeToNorm"></donut>
				</div>
			</div>
		</div>
	</div>

	<!-- /ko -->
	<!-- ko if: byFrequency -->
	<div class="col-xs-12">
		<div class="panel panel-primary">
			<div class="panel-heading" data-bind="text: ko.i18n('dataSources.drilldown.frequencyDistribution', 'Frequency Distribution')"></div>
			<div class="panel-body">
				<frequency-histogram class="evidenceVisualization" params="data: frequencyDistributionData, format: chartFormats.frequencyDistribution"></frequency-histogram>
			</div>
		</div>
	</div>
	<!-- /ko -->

</div>
<!-- /ko -->