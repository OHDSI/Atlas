<div data-bind="html: $component.template"></div>

<loading data-bind="css: classes('loading-panel'), visible: $component.loading()" params="status: 'Loading Cohort Pathway Analysis...'"></loading>

<!-- ko if: design -->
<div data-bind="css: classes()">
	<div class="wrapperTitle">
		<i class="fa fa-sitemap"></i> Cohort Pathways
	</div>
	<div class="asset-heading">
		<input type="text" data-bind="attr: { disabled: $component.canEdit() ? null : true }, textInput: design().name" />
		<div class="btn-group">
			<button type="button" class="btn btn-sm btn-success" data-bind="click: $component.save, css: {disabled:!canSave()}"><i class="fa fa-save"></i></button>
			<button type="button" class="btn btn-sm btn-primary" data-bind="click: $component.close"><i class="fa fa-times"></i></button>
			<button type="button" class="btn btn-sm btn-danger" data-bind="click: $component.del, css: {disabled: !canDelete()}"><i class="fa fa-trash-o"></i></button>
		</div>
	</div>

	<tabs data-bind="visible: !$component.loading()" params="
		selectedTabKey: $component.selectedTabKey,
		selectTab: $component.selectTab,
		tabs: [
			{
				title: 'Design',
				key: 'design',
				componentName: 'pathway-design',
				componentParams: $component.componentParams
			},
			{
				title: 'Executions',
				key: 'executions',
				componentName: 'pathway-exec-wrapper',
				componentParams: $component.componentParams
			},
			{
				title: 'Utilities',
				key: 'utilities',
				componentName: 'pathway-utils',
				componentParams: $component.componentParams,
			}
		]">
	</tabs>
</div>
<!-- /ko -->
