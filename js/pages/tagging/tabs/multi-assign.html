<access-denied params="isAuthenticated: isAuthenticated, isPermitted: isAuthenticated"></access-denied>

<div data-bind="css: classes('container')">

    <div data-bind="css: classes('section', 'tags')">
        <h4>Selected tags</h4>
        <div data-bind="css: classes('tags-component')">
            <table data-bind="
                css: classes({ extra: ['table', 'table-bordered', 'table-hover'] }),
                dataTable:{
                    data: selectedTags,
                    options: {
                        order: [],
                        columns: selectedTagsColumns,
                        pageLength: tableOptions.pageLength,
                        lengthMenu: tableOptions.lengthMenu,
                        language: ko.i18n('datatable.language')
                    },
                }
            "/>
        </div>
        <button type="button" class="btn btn-primary"
                data-bind="click: () => availableTagsShown(!availableTagsShown()), text: availableTagsShown() ? 'Hide tags' : 'Choose tags'"></button>
        <div data-bind="visible: availableTagsShown, css: classes('selector-block')">
            <table data-bind="
                css: classes({ extra: ['table', 'table-bordered', 'table-hover'] }),
                dataTable:{
                    data: availableTags,
                    options: {
                        order: [],
                        columns: availableTagsColumns,
                        pageLength: tableOptions.pageLength,
                        lengthMenu: tableOptions.lengthMenu,
                        language: ko.i18n('datatable.language')
                    },
                }
            "/>
        </div>

    </div>

    <div data-bind="css: classes('section', 'entities')">
        <h4>Selected assets</h4>
        <div data-bind="css: classes('assets-to-handle')">
            <table data-bind="
                css: classes({ extra: ['table', 'table-bordered', 'table-hover'] }),
                dataTable:{
                    data: selectedAssets,
                    options: {
                        order: [],
                        columns: selectedAssetsColumns,
                        pageLength: tableOptions.pageLength,
                        lengthMenu: tableOptions.lengthMenu,
                        language: ko.i18n('datatable.language')
                    },
                }
            "/>
        </div>

        <button type="button" class="btn btn-primary"
                data-bind="click: () => assetsTabsShown(!assetsTabsShown()), text: assetsTabsShown() ? 'Hide assets' : 'Choose assets'"></button>

        <div data-bind="component: { name: 'tabs', params: assetTabsParams }, visible: assetsTabsShown, css: classes('selector-block')"></div>
    </div>

    <div data-bind="css: classes('button')">
        <div data-bind="css: classes('section', 'radio')">
            <label for="assignRadio">
                <input id="assignRadio" type="radio" name="assignOrRemoveRadio" value="assign" data-bind="checked: actionType"> Assign tags
            </label>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <label for="removeRadio">
                <input id="removeRadio" type="radio" name="assignOrRemoveRadio" value="unassign" data-bind="checked: actionType"> Unassign tags
            </label>
            <!-- ko if: actionType() == 'assign' -->
            <button type="button" class="btn btn-primary"
                    data-bind="click: doAssign, disable: !hasEnoughSelectedData()">Assign tags
            </button>
            <!-- /ko -->
            <!-- ko if: actionType() == 'unassign' -->
            <button type="button" class="btn btn-danger"
                    data-bind="click: doUnassign, disable: !hasEnoughSelectedData()">Unassign tags
            </button>
            <!-- /ko -->
        </div>
    </div>


</div>