<!-- ko if:loading -->
<div class="wrapperTitle">
    <i class="fa fa-circle-notch fa-spin"></i> <span data-bind="text: ko.i18n('common.loadingWithDots', 'Loading...')"></span>
</div>
<!-- /ko -->
<!-- ko ifnot:loading -->
    <heading-title params="name: ko.i18n('configuration.roles.title', 'Roles'), icon: 'cogs', theme: 'dark'"></heading-title>
<!-- /ko -->
<div data-bind="if:$component.canRead">
    <div class="paddedWrapper">
        <span class="pull-right btn btn-sm btn-primary new-role" data-bind="click:newRole, css: { disabled: !canCreate() }, text: ko.i18n('configuration.roles.newRole', 'New role')"></span>
        <span class="pull-right btn btn-sm btn-primary new-role" data-bind="click: importRoles, css: { disabled: !canCreate() }, text: ko.i18n('configuration.roles.importRoles', 'Import roles')"></span>
        <div class="clear" data-bind="eventListener: [{event: 'click', selector: '.roleItem', callback: $component.selectRole}]">
            <table width="100%" class="stripe compact hover" cellspacing="0" data-bind="dataTable:{
            data: roles,
            options: {
                        dom: 'lfiprt',
                        pageLength: tableOptions.pageLength,
                        lengthMenu: tableOptions.lengthMenu,
                        orderClasses: false,
                        deferRender: true,
                        autoWidth: true,
                        ordering: true,
                        order: [[ 0, 'asc' ]],
                        columns: [
                                { title: ko.i18n('columns.role', 'Role'), data: 'role' }
                        ],
                        stripeClasses : [ 'roleItem' ],
                        language: ko.i18n('datatable.language')
                }
        }"></table>
        </div>
    </div>
</div>

<access-denied params="isAuthenticated: isAuthenticated, isPermitted: $component.canRead"></access-denied>
