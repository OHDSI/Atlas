<div data-bind="css: classes()">
    <heading-title params="name: 'User Import Job', icon: 'users', theme: 'dark'"></heading-title>

    <div data-bind="css: classes({ extra: 'asset-heading' })">
        <div data-bind="css: classes({ element: 'button-panel', extra: 'input-group' })">
            <select data-bind="css: classes({ element: 'provider-select' }), options: providers, optionsText: 'label', optionsValue: 'value', value: job().providerType">
            </select>
            <div data-bind="css: classes({ element: 'button-group', extra: 'input-group-btn' })">
                <button type="button" class="btn btn-success" data-bind="click: $component.saveJob, css: {disabled:!$component.isSavePermitted()}"><i class="fa fa-save"></i></button>
                <button type="button" class="btn btn-primary" data-bind="click: $component.closeJob"><i class="fa fa-times"></i></button>
                <button type="button" class="btn btn-danger"  data-bind="click: $component.deleteJob, css: {disabled: !$component.isDeletePermitted()}"><i class="fa fa-trash-o"></i></button>
            </div>
        </div>
    </div>

    <div data-bind="css: classes({ extra: 'padded' })">
        <div data-bind="css: classes({extra: ['panel', 'panel-primary']})">
            <div data-bind="css: classes({extra: ['panel-heading']})">
                Schedule
            </div>
            <div data-bind="css: classes({ extra: 'panel-body' })">
                <label data-bind="css: classes({extra: 'btn'})"><input data-bind="checked: job().enabled" type="checkbox" /> Enabled</label>
                <div data-bind="css: classes({ element: 'schedule', extra: 'form-group'})">
                    <label data-bind="css: classes({extra: 'btn'})">Start on:</label>
                    <input placeholder="YYYY-MM-DD" data-bind="datetimepicker: startDate, format: 'yyyy-mm-dd hh:ii', css: classes({extra: 'form-control'}) " />
                </div>
                <div data-bind="css: classes({ element: 'schedule', extra: 'form-group' })">
                    <label data-bind="css: classes({extra: 'btn'})">Execute:</label>
                    <select data-bind="css: classes({ extra: 'form-control' }), options: executionOptions, optionsText: 'label', optionsValue: 'value', value: job().frequency"></select>
                </div>
                <div data-bind="css: classes({ element: 'schedule', extra: 'form-group'}), visible: job().frequency() === 'WEEKLY'">
                    <label data-bind="css: classes({extra: 'btn'})">Repeat on:</label>
                    <weekdays params="weekdays: weekdays"></weekdays>
                </div>
                <div data-bind="css: classes({ extra: ['panel', 'panel-primary'] }), visible: job().frequency() !== 'ONCE'">
                    <div data-bind="css: classes({ extra: 'panel-heading' })">Ends</div>
                    <div data-bind="css: classes({ element: 'ends', extra: 'panel-body' })">
                        <div data-bind="css: classes('ends-label')">
                            <label data-bind="css: classes({extra: ['btn']})"><input name="ends" value="never" type="radio" data-bind="checked: jobEnds" /> Never</label>
                        </div>
                        <div data-bind="css: classes('ends-label')">
                            <label data-bind="css: classes({extra: 'btn'})"><input name="ends" value="after" data-bind="checked: jobEnds" type="radio" /> After
                                <input data-bind="value: job().recurringTimes, css: classes('ends-after')">
                                <label data-bind="css: classes({extra: 'btn'})">executions</label>
                            </label>
                        </div>
                        <div data-bind="css: classes('ends-label')">
                            <label data-bind="css: classes({ extra: 'btn'})"><input name="ends" value="on" data-bind="checked: jobEnds" type="radio" /> On
                                <input placeholder="YYYY-MM-DD" data-bind="datetimepicker: job().recurringUntilDate, datepickerOptions: { defaultDate: new Date(), dateFormat: 'yy-mm-dd hh:mm' }, css: classes({element: 'ends-on', extra: 'form-control'}) " />
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>