<div data-bind="css: classes()">
    <div class="loading" data-bind="visible: loading()">loading</div>
    <div data-bind="
        template: {
            name: 'linked-entity-template',
            data: Object.assign({}, $data, cohortDefinitions, { classes: classes })
        }
    "></div>
    <div data-bind="
        template: {
            name: 'linked-entity-template',
            data: Object.assign({}, this, featureAnalyses, { classes: classes })
        }
    "></div>
    <div data-bind="
        template: {
            name: 'linked-entity-template',
            data: Object.assign({}, this, featureAnalysesParams, { classes: classes })
        }
    "></div>
    <div data-bind="modal: showCohortDefinitionBrowser, css: classes({ element: 'cohort-def-modal', extra: 'modal fade' })" tabindex="-1" role="dialog">
        <div data-bind="css: classes({ element: 'cohort-def-modal-content', extra: 'modal-dialog' })">
            <div data-bind="css: 'modal-content'">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <div class="modal-title">Choose a Cohort</div>
                </div>
                <div data-bind="css: classes({ element: 'cohort-def-modal-body', extra: 'modal-body' })">
                    <cohort-definition-browser params="cohortDefinitionSelected: cohortSelected"></cohort-definition-browser>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/html" id="linked-entity-template">
    <div data-bind="css: classes('linked-entities')">
        <h2 data-bind="css: classes('linked-entities-title'), text: title"></h2>
        <p data-bind="css: classes('linked-entities-descr'), text: descr"></p>
        <div data-bind="css: classes('linked-entities-actions')">
            <button type="button"
                    data-bind="css: classes({ element: 'linked-entities-btn', extra: ['btn btn-primary btn-sm']}), text: newItemLabel, click: newItemAction"></button>
        </div>
        <table data-bind="
            css: classes({ element: 'linked-entities-table', extra: ['table', 'table-bordered', 'table-hover'] }),
            dataTable:{
                data: data,
                options: {columns: columns}
            }
        "/>
    </div>
</script>